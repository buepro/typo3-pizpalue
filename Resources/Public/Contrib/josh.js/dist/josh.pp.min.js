class Josh{constructor(i={}){this.initClass=i.initClass||"josh-js",this.initDom=document.querySelectorAll("."+this.initClass),this.animClass=i.animClass||"animate__animated",this.margin=i.margin||"0px",this.offset=i.offset||.2,this.animateInMobile=void 0===i.animateInMobile||i.animateInMobile,this.onDOMChange=void 0!==i.onDOMChange&&i.onDOMChange,this.intersectOnScroll(this.initDom),this.callOnDOMChange(),this.addCss(this.initDom)}intersectionObserverCallback(i,o){const r=!this.animateInMobile&&this.isMobile();i.forEach(i=>{const t=i.target;var s=t.dataset.joshAnimName,e=t.dataset.joshIteration,n=t.dataset.joshDuration,a=t.dataset.joshAnimDelay;i.isIntersecting&&(i=`
          visibility: visible;
          animation-name: ${s};
          animation-duration: ${n};
          animation-iteration-count: ${e};
          animation-delay: ${a};
        `,r||(t.style=t.style.cssText+i),o.unobserve(t))})}addCss(i){0<i.length?i.forEach(i=>{this.cssUtil(i)}):this.cssUtil(i)}cssUtil(i){var t=!this.animateInMobile&&this.isMobile();i.classList.add(this.animClass),t||(i.style=i.style.cssText+"visibility: hidden")}intersectOnScroll(i){if(!("IntersectionObserver"in window))throw new Error("IntersectionObserver is not support by this browser. Try by adding pollyfil or use other library.");{const t=new IntersectionObserver(this.intersectionObserverCallback.bind(this),{root:null,rootMargin:this.margin,threshold:this.offset});0<i.length?i.forEach(i=>{t.observe(i)}):t.observe(i)}}callOnDOMChange(){window.addEventListener("DOMContentLoaded",()=>{if(this.onDOMChange){const i=new MutationObserver(i=>{i.forEach(i=>{const t=i.addedNodes;null!==t&&t.forEach(i=>{this.addCss(i),this.intersectOnScroll(i)})})});i.observe(document.body,{childList:!0,subtree:!0})}})}isMobile(){return/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}
